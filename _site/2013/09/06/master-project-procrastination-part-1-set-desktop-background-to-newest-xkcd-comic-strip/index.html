
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7 ie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8 ie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9 ie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Automatically Set Desktop Background to newest XKCD Comic Strip Using Python</title>
	<meta name="author" content="Simen Andresen">
	<link href='/assets/themes/the-minimum/css/style.css' rel="stylesheet" media="all">
	<link href="http://feeds.feedburner.com/" rel="alternate" title="Automatically Set Desktop Background to newest XKCD Comic Strip Using Python" type="application/atom+xml">
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script>
</head>
<body>

<div id="page" class="hentry">
	<header class="the-header">
		<div class="unit-head">
			<div class="unit-inner unit-head-inner">
				<p class="logo"><a href="/">SA Cybernetics</a></p>
				<nav class="nav-global">
					<ul>
						<li class="archive"><a href="/archive.html">archive</a></li>
						<li class="page"><a href="/pages.html">pages</a></li>
						<li class="category"><a href="/categories.html">categories</a></li>
						<li class="tag"><a href="/tags.html">tags</a></li>
						<li class="forkme"><iframe src="http://markdotto.github.com/github-buttons/github-btn.html?user=plusjade&repo=jekyll-bootstrap&type=fork&count=true"
								allowtransparency="true" frameborder="0" scrolling="0" width="95px" height="20px"></iframe></li>
					</ul>
				</nav>
			</div><!-- unit-inner -->
		</div><!-- unit-head -->
	</header>
	<div class="body" role="main">
		<div class="unit-body">
			<div class="unit-inner unit-body-inner">
				<div class="entry-content">
					
<article class="unit-article layout-post">
	<div class="unit-inner unit-article-inner">
		<div class="content">
			<header>
				<div class="unit-head">
					<div class="unit-inner unit-head-inner">
						<h1 class="h2 entry-title">Automatically Set Desktop Background to newest XKCD Comic Strip Using Python</h1>
					</div><!-- unit-inner -->
				</div><!-- unit-head -->
			</header>

			<div class="bd">
				<div class="entry-content">
					<p>This semester I’m writing my master’s project, which seems to be a time when procrastination thrives. When setting up Ubuntu on my school PC i had to decide what to use for desktop image. I therefore wrote a script to update the desktop background to the most recent <a href="http://www.xkcd.com">XKCD</a> comic strip:</p>

<!-- more -->

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">#!/usr/bin/python</span>
<span class="c"># This script gets the latest xkcd comic strip </span>
<span class="c"># downloads it and makes it the desktop background</span>
<span class="c"># by simen andresen </span>

<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageFont</span><span class="p">,</span> <span class="n">ImageDraw</span>
<span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span><span class="p">,</span> <span class="n">html</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">textwrap</span>


<span class="n">url</span><span class="o">=</span><span class="s">&#39;http://www.xkcd.com&#39;</span>

<span class="c"># get the comic and save it as png</span>
<span class="k">def</span> <span class="nf">getImage</span><span class="p">(</span><span class="n">imgPath</span><span class="p">):</span>
	<span class="n">page</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
	<span class="n">img</span><span class="o">=</span><span class="n">page</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">&#39;//div[@id=&quot;comic&quot;]/img/@src&#39;</span><span class="p">)</span>
	<span class="n">img</span><span class="o">=</span><span class="n">img</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
	<span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">imgPath</span><span class="o">+</span> <span class="s">&#39;todaysXkcd.png&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">getMouseOverText</span><span class="p">():</span>
	<span class="n">page</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
	<span class="n">mText</span><span class="o">=</span><span class="n">page</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">&#39;//div[@id=&quot;comic&quot;]/img/@title&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">mText</span>

<span class="k">def</span> <span class="nf">getHeader</span><span class="p">():</span>
	<span class="n">page</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
	<span class="n">header</span><span class="o">=</span><span class="n">page</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">&#39;//div[@id=&quot;ctitle&quot;]/text()&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">header</span>

<span class="k">def</span> <span class="nf">headerToImage</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="n">imgPath</span><span class="p">,</span><span class="n">fileName</span><span class="p">):</span>
	<span class="n">fontPath</span> <span class="o">=</span> <span class="n">imgPath</span> <span class="o">+</span> <span class="s">&quot;std.ttf&quot;</span>
	<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="n">fontPath</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
	<span class="n">textW</span><span class="p">,</span><span class="n">textH</span><span class="o">=</span><span class="n">font</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="s">&quot;S&quot;</span><span class="p">)</span>
	<span class="n">xkcd</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">imgPath</span> <span class="o">+</span> <span class="n">fileName</span><span class="p">)</span>	
	<span class="n">xwidth</span><span class="p">,</span> <span class="n">xheight</span> <span class="o">=</span> <span class="n">xkcd</span><span class="o">.</span><span class="n">size</span>
	<span class="n">img</span><span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">xwidth</span><span class="p">,</span><span class="mi">588</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
	<span class="n">draw</span><span class="o">=</span><span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
	<span class="n">margin</span> <span class="o">=</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">4</span>
	<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">xwidth</span><span class="o">/</span><span class="n">textW</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
		<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">margin</span><span class="p">,</span> <span class="n">offset</span><span class="p">),</span> <span class="n">line</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
		<span class="n">offset</span> <span class="o">+=</span> <span class="n">font</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">line</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
	<span class="n">img</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">xwidth</span><span class="p">,</span><span class="n">offset</span><span class="o">+</span><span class="n">textH</span> <span class="p">))</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">textToImage</span><span class="p">(</span><span class="n">imgPath</span><span class="p">,</span><span class="n">fileName</span><span class="p">):</span>
	<span class="n">text</span><span class="o">=</span><span class="n">getMouseOverText</span><span class="p">()</span>
	<span class="n">fontPath</span> <span class="o">=</span> <span class="n">imgPath</span> <span class="o">+</span> <span class="s">&quot;FreeMono.ttf&quot;</span>
	<span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="n">fontPath</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
	<span class="n">textW</span><span class="p">,</span><span class="n">textH</span><span class="o">=</span><span class="n">font</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="s">&quot;S&quot;</span><span class="p">)</span>
	<span class="n">xkcd</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">imgPath</span> <span class="o">+</span> <span class="n">fileName</span><span class="p">)</span>	
	<span class="n">xwidth</span><span class="p">,</span> <span class="n">xheight</span> <span class="o">=</span> <span class="n">xkcd</span><span class="o">.</span><span class="n">size</span>
	<span class="n">img</span><span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">xwidth</span><span class="p">,</span><span class="mi">588</span><span class="p">),</span> <span class="p">(</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">190</span><span class="p">))</span>
	<span class="n">draw</span><span class="o">=</span><span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
	<span class="n">margin</span> <span class="o">=</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">5</span>
	<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">xwidth</span><span class="o">/</span><span class="n">textW</span><span class="o">-</span><span class="mi">6</span><span class="p">):</span>
		<span class="n">draw</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">margin</span><span class="p">,</span> <span class="n">offset</span><span class="p">),</span> <span class="n">line</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
		<span class="n">offset</span> <span class="o">+=</span> <span class="n">font</span><span class="o">.</span><span class="n">getsize</span><span class="p">(</span><span class="n">line</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
	<span class="n">img</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">crop</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">xwidth</span><span class="p">,</span><span class="n">offset</span><span class="o">+</span><span class="n">textH</span> <span class="p">))</span>
	<span class="k">return</span> <span class="n">img</span>

<span class="k">def</span> <span class="nf">stitchImagesTogether</span><span class="p">(</span><span class="n">xkcdImgName</span><span class="p">,</span> <span class="n">imgPath</span><span class="p">):</span>
	<span class="n">sideMargin</span><span class="o">=</span><span class="mi">20</span>
	<span class="n">headerImg</span><span class="o">=</span><span class="n">headerToImage</span><span class="p">(</span><span class="n">getHeader</span><span class="p">(),</span><span class="n">imgPath</span><span class="p">,</span><span class="n">xkcdImgName</span><span class="p">)</span>
	<span class="n">textImg</span><span class="o">=</span><span class="n">textToImage</span><span class="p">(</span><span class="n">imgPath</span><span class="p">,</span><span class="n">xkcdImgName</span><span class="p">)</span>
	<span class="n">xImg</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">imgPath</span> <span class="o">+</span> <span class="n">xkcdImgName</span><span class="p">)</span>
	<span class="n">xw</span><span class="p">,</span><span class="n">xh</span><span class="o">=</span><span class="n">xImg</span><span class="o">.</span><span class="n">size</span>
	<span class="n">tw</span><span class="p">,</span><span class="n">th</span><span class="o">=</span><span class="n">textImg</span><span class="o">.</span><span class="n">size</span>
	<span class="n">hw</span><span class="p">,</span><span class="n">hh</span><span class="o">=</span><span class="n">headerImg</span><span class="o">.</span><span class="n">size</span>
	<span class="n">img</span><span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">xw</span><span class="o">+</span><span class="n">sideMargin</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">xh</span><span class="o">+</span><span class="n">th</span><span class="o">+</span><span class="n">hh</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">sideMargin</span><span class="p">),</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">))</span>
	<span class="n">img</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">headerImg</span><span class="p">,(</span><span class="n">sideMargin</span><span class="p">,</span><span class="n">sideMargin</span><span class="p">))</span>
	<span class="n">img</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">xImg</span><span class="p">,(</span><span class="n">sideMargin</span><span class="p">,</span><span class="n">hh</span><span class="p">))</span>
	<span class="n">img</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">textImg</span><span class="p">,(</span><span class="n">sideMargin</span><span class="p">,</span><span class="n">xh</span><span class="o">+</span><span class="n">hh</span><span class="o">+</span><span class="mi">8</span><span class="p">))</span>
	<span class="c">#img.paste(Image.new(&quot;RGBA&quot;,(xw+sideMargin)))</span>
	<span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">imgPath</span> <span class="o">+</span> <span class="n">xkcdImgName</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">runAll</span><span class="p">():</span>
	<span class="n">imgPath</span><span class="o">=</span><span class="s">&#39;/home/simena/household/xkcdDesktop/&#39;</span>
	<span class="n">getImage</span><span class="p">(</span><span class="n">imgPath</span><span class="p">)</span>
	<span class="n">stitchImagesTogether</span><span class="p">(</span><span class="s">&#39;todaysXkcd.png&#39;</span><span class="p">,</span><span class="n">imgPath</span><span class="p">)</span>
	<span class="c"># set the comic as background</span>
	<span class="n">osString</span> <span class="o">=</span> <span class="s">&#39;gsettings set org.gnome.desktop.background picture-uri file://&#39;</span><span class="o">+</span><span class="n">imgPath</span> <span class="o">+</span>  <span class="s">&#39;todaysXkcd.png&#39;</span> 
	<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">osString</span><span class="p">)</span>
	<span class="n">osString</span> <span class="o">=</span> <span class="s">&#39;gsettings set org.gnome.desktop.background picture-options centered &#39;</span>
	<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">osString</span><span class="p">)</span>


<span class="n">runAll</span><span class="p">()</span></code></pre></div>

<p>The script fetches the image of the comic and the mouseover text. The mouseover text is rendered as an image and finally stitched together with the comic image.
If your’re using a Unix based OS you can schedule the script to run e.g. every  Monday, Wednesday and Friday using <a href="http://www.adminschoice.com/crontab-quick-reference/">crontab</a>. </p>

<p>The source can be found in my <a href="https://github.com/simena86/xkcdDesktop">github</a>
<img src="/images/xkcd.png" alt="Alt text" /></p>

					<div class="meta">
						<p class="date-publish">
							Published: 
							<date class="date-pub" title="2013-09-06T13:48:00+02:00" datetime="2013-09-06T13:48:00+02:00" pubdate>
							<span class="month"><abbr>September</abbr></span>
							<span class="day">06</span>
							<span class="year">2013</span>
							</date>
						</p>
						<ul class="list-category list-linear">
							<li class="list-head">category: </li>
							
							


  
    
  


						</ul>
						<ul class="list-tag list-linear">
							<li class="list-head">tags: </li>
							
							


  
    
  



						</ul>
					</div><!-- meta -->
				</div><!-- entry-content -->
				<div class="misc-content">
					<div class="social">
						<ul class="list-linear">
							<li><div class="twitter-tweet"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="siggen_a" data-lang="en">Tweet</a></div></li>
							<li><div class="twitter-follow"><a href="https://twitter.com/siggen_a" class="twitter-follow-button" data-show-count="false" data-lang="en"></a></div></li>
						</ul>
					</div>
					
					


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




				</div><!-- misc-content -->
				
			</div><!-- bd -->
			<footer class="unit-foot">
				<div class="unit-inner unit-foot-inner">
					<nav class="pagination">
						<ul>
							
							<li class="prev"><a class="internal" rel="prev"  href="/c++/opencv/computer%20vision/2013/08/12/hand-tracking-and-recognition-with-opencv" title="View Hand Tracking And Recognition with OpenCV">&laquo; Hand Tracking And Recognition with OpenCV</a></li>
							
							
							
						</ul>
					</nav>
					<p class="gotop">
						<a href="#page">Back to Top</a>
					</p>
				</div>
			</footer>

		</div><!-- content -->
	</div><!-- unit-inner -->
</article>


				</div>
			</div><!-- unit-inner -->
		</div><!-- unit-body -->
	</div><!-- body -->
	<footer class="the-footer">
		<div class="unit-foot">
			<div class="unit-inner unit-foot-inner">
				<div class="misc vcard">
					<h4>about</h4>
					<ul>
						<li class="contact"><address><span class="author fn n">Simen Andresen</span> - <span class="fn email">simena86@gmail.com</span></address></li>
						<li class="github"><a href="http://github.com/simena86/" rel="me">github.com/simena86</a></li>
						<li class="twitter"><a href="http://twitter.com/siggen_a/" rel="me">twitter.com/siggen_a</a></li>
						<li class="rss"><a href="http://feeds.feedburner.com/">Subscribe to RSS Feed</a></li>
					</ul>
				</div><!-- misc -->
				<p class="licence">
					Theme: <a href="http://layouts-the.me">the_minimum</a> based on <a href="http://jekyllbootstrap.com/">Jekyll-bootstrap</a>.<br>
					Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a>.
				</p>
			</div><!-- unit-foot-inner -->
		</div><!-- unit-foot -->
	</footer>
</div><!-- page -->
<script>
	(function(d, s) {
		var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.src = url; js.id = id;
		fjs.parentNode.insertBefore(js, fjs);
		};
	load('//platform.twitter.com/widgets.js', 'tweetjs');
	// load('https://apis.google.com/js/plusone.js', 'gplus1js'); // Checkout http://j.mp/ApDgMr for usage html for this is <div class="g-plusone" data-size="medium"></div>
	// load('//connect.facebook.net/en_US/all.js#xfbml=1', 'fbjssdk'); // Checkout http://j.mp/wZw2xR for using open graph protorol html for this is <div class="fb-like" data-href="/2013/09/06/master-project-procrastination-part-1-set-desktop-background-to-newest-xkcd-comic-strip" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="verdana"></div>
	}(document, 'script'));
</script>
<script>
/*! A fix for the iOS orientationchange zoom bug.Script by @scottjehl, rebound by @wilto. MIT License.*/
(function(j){var i=j.document;if(!i.querySelectorAll){return}var l=i.querySelectorAll("meta[name=viewport]")[0],a=l&&l.getAttribute("content"),h=a+", maximum-scale=1.0",d=a+", maximum-scale=10.0",g=true,c=j.orientation,k=0;if(!l){return}function f(){l.setAttribute("content",d);g=true}function b(){l.setAttribute("content",h);g=false}function e(m){c=Math.abs(j.orientation);k=Math.abs(m.gamma);if(k>8&&c===0){if(g){b()}}else{if(!g){f()}}}j.addEventListener("orientationchange",f,false);j.addEventListener("deviceorientation",e,false)})(this);
</script>

  
</body>
</html>


<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
